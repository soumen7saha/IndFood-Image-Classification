<!DOCTYPE html>
<html>
<head>
    <title>IndFood Image Classification</title>
</head>
<body>

    <div>
        <h2>IndFood Image Classification</h2>
        <a href="https://github.com/soumen7saha/IndFood-Image-Classification" target="_blank">source code</a>
    </div>

    <br>
    <form action="/upload" enctype="multipart/form-data" method="post">
        <input type="file" id="imgFile" name="imgFile" accept="image/*" required>
        <button type="submit">Upload Food Image</button>
    </form>

    {% if file_info is defined %}
    <br>
        <img src="{{ file_info.image_url }}" width="200" height="150" alt="Image Not Found!">
    <br>
    {% endif %}


    <br>
    <form action="/classify_food" method="post">
        Please select the CNN Model:<br>
        <input type="radio" id="resnet" name="model" value="resnet" required>
        <label for="resnet">ResNet-152</label><br>
        <input type="radio" id="convns" name="model" value="convns">
        <label for="convns">ConvNext-S</label><br> 
        <br>
        <button type="submit">Classify Food</button>
    </form>

    {% if result is defined %}
        {% if result["t1_class"] %}
            <h3>Uploaded food is <i><u>{{ result["t1_class"] }}</u></i></h3>
        {% endif %}
        {% if result["t5_preds"] %}
            <h4>Top 5 Predicted Classes:</h4>
            <ul>
            {% for i in result["t5_preds"] %}
                <li><i>{{ i }}</i></li>
            {% endfor %}
            </ul>
        {% endif %}
    {% endif %}

</body>
</html>
